import{r as s,W as u,j as r,F as N,a as e,b}from"./app-ba0260c4.js";import f from"./Modal-2f824324.js";import{F as m,S as v}from"./FlashMixin-8e785d16.js";import h from"./Textarea-dc41ae47.js";const O=({optPadi:g,penanggulangan:i,flash:n})=>{var o;s.useEffect(()=>{n!=null&&n.success&&m.fire({icon:"success",title:n.success}),n!=null&&n.error&&m.fire({icon:"error",title:n.error})},[n]);const[c,d]=s.useState(!1),t=u({id:0,opt:0,pencegahan:"",penanganan:""}),[l,y]=s.useState({}),x=a=>{t.setData({id:a.id,opt:a.opt.id,pencegahan:a.pencegahan,penanganan:a.penanganan}),d(!0)};return r(N,{children:[e("div",{className:"w-full py-2",children:e("div",{className:"card h-[50px] bg-gray-50 rounded-md text-green flex justify-center",children:e("div",{className:"card-title mx-5",children:"Data Penanggulangan Organisme Pengganggu Tumbuhan (OPT)"})})}),c&&r(f,{isOpen:c,title:"Ubah Data Penanggulangan",onSend:a=>{a.preventDefault(),t.put(`/list-penanggulangan/${t.data.id}`,{onSuccess:()=>{d(!1),t.reset()},onError:()=>{v.fire({icon:"error",title:"Gagal!",text:"Terjadi kesalahan, coba lagi.",confirmButtonColor:"#F47C7C",confirmButtonText:"OK"})}})},onClose:()=>d(!1),processing:t.processing,w:"max-w-5xl",children:[r("div",{className:"fieldset",children:[e("legend",{className:"fieldset-legend text-xs text-primary mb-[5px]",children:"Jenis OPT"}),e("input",{type:"text",className:"input input-primary disabled:bg-gray-100 disabled:text-primary font-bold w-full",value:((o=g.find(a=>a.id===t.data.opt))==null?void 0:o.opt)||"",disabled:!0}),e("input",{type:"hidden",name:"opt",value:t.data.opt}),l.opt&&e("p",{className:"text-error text-xs mt-1",children:l.opt})]}),r("div",{className:"fieldset mt-2",children:[e("legend",{className:"fieldset-legend text-xs text-primary mb-[5px]",children:"Pencegahan"}),e(h,{name:"pencegahan",value:t.data.pencegahan,onChange:a=>t.setData("pencegahan",a.target.value)}),l.pencegahan&&e("p",{className:"text-error text-xs mt-1",children:l.pencegahan})]}),r("div",{className:"fieldset mt-2",children:[e("legend",{className:"fieldset-legend text-xs text-primary mb-[5px]",children:"Penanganan"}),e(h,{name:"penanganan",value:t.data.penanganan,onChange:a=>t.setData("penanganan",a.target.value)}),l.penanganan&&e("p",{className:"text-error text-xs mt-1",children:l.penanganan})]})]}),e("div",{className:"w-full",children:e("div",{className:"h-[calc(100vh-165px)] overflow-x-auto rounded-lg  ",children:r("table",{className:"table table-pin-rows bg-gray-50",children:[e("thead",{className:"border-b-2 text-sm text-primary font-bold",children:r("tr",{children:[e("th",{children:"#"}),e("th",{children:"JENIS OPT"}),e("th",{children:"PENCEGAHAN"}),e("th",{children:"PENANGANAN"}),e("th",{className:"text-center",children:"AKSI"})]})}),e("tbody",{className:"text-gray-400",children:i?i.map((a,p)=>r("tr",{children:[e("td",{children:p+1}),e("td",{children:a.opt.opt}),e("td",{children:a.pencegahan}),e("td",{children:a.penanganan}),e("td",{className:"text-center",children:e("button",{className:"btn btn-xs text-primary btn-circle",onClick:()=>x(a),children:e(b,{})})})]},p)):e("tr",{className:"text-center",children:e("td",{colSpan:5,children:e("i",{children:"~ belum ada data ~"})})})})]})})})]})};export{O as default};
