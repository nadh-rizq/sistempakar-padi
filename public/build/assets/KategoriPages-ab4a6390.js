import{r as s,W as x,j as n,F as g,a as e,b as f}from"./app-996c5dc9.js";import N from"./Modal-aee7d2fa.js";import{F as b,S as v}from"./FlashMixin-8e785d16.js";const S=({dataKategori:c,flash:r})=>{s.useEffect(()=>{r!=null&&r.success&&b.fire({icon:"success",title:r.success}),r!=null&&r.error&&b.fire({icon:"error",title:r.error})},[r]);const[l,i]=s.useState(!1),o=x({id:"",bobot:0}),[d,m]=s.useState({}),u=t=>{const a={};return t.bobot===""?a.bobot="*bobot harus diisi!":t.bobot===0?a.bobot="*bobot tidak boleh 0!":(t.bobot<0||t.bobot>.999999)&&(a.bobot="*bobot harus antara 0.000001 dan 0.999999!"),m(a),Object.keys(a).length===0},h=t=>{o.setData({id:t.id,kategori:t.kategori,bobot:t.bobot}),i(!0)},p=t=>{t.preventDefault(),u(o.data)&&o.put(`/list-kategori/${o.data.id}`,{onSuccess:()=>{i(!1),o.reset()},onError:()=>{v.fire({icon:"error",title:"Gagal!",text:"Terjadi kesalahan, coba lagi.",confirmButtonColor:"#F47C7C",confirmButtonText:"OK"})}})};return n(g,{children:[e("div",{className:"w-full py-2",children:e("div",{className:"card h-[50px] bg-gray-50 rounded-md text-green flex justify-center",children:e("div",{className:"card-title mx-5",children:"Data Kategori Gejala"})})}),l&&n(N,{isOpen:l,title:`Ubah Bobot Kategori (${o.data.kategori}) !`,onSend:p,onClose:()=>i(!1),processing:o.processing,children:[e("input",{type:"number",step:"0.000001",min:"0",max:"0.999999",name:"bobot",value:o.data.bobot,onChange:t=>o.setData("bobot",parseFloat(t.target.value)),className:"input bg-gray-100 w-full",required:!0}),d.bobot&&e("p",{className:"text-error text-xs mt-1",children:d.bobot})]}),e("div",{className:"w-full ",children:e("div",{className:"h-[calc(100vh-165px)] overflow-x-auto rounded-lg  ",children:n("table",{className:"table table-pin-rows bg-gray-50",children:[e("thead",{className:"border-b-2 text-sm text-primary font-bold",children:n("tr",{children:[e("th",{children:"#"}),e("th",{children:"KATEGORI"}),e("th",{children:"BOBOT"}),e("th",{className:"text-center",children:"AKSI"})]})}),e("tbody",{className:"text-gray-400",children:c?c.map((t,a)=>n("tr",{children:[e("td",{children:a+1}),e("td",{children:t.kategori}),e("td",{children:parseFloat(t.bobot).toFixed(6)}),e("td",{className:"text-center",children:e("button",{className:"btn btn-xs text-primary btn-circle",onClick:()=>h(t),children:e(f,{})})})]},a)):e("tr",{className:"text-center",children:e("td",{colSpan:4,children:e("i",{children:"~ belum ada data ~"})})})})]})})})]})};export{S as default};
